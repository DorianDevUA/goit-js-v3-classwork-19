{"version":3,"file":"01-fetch-api.js","sources":["../src/templates/pokemon-card.hbs","../src/js/api-service.js","../src/js/get-refs.js","../src/js/01-fetch-api.js"],"sourcesContent":["<div class=\"card\">\n  <div class=\"card-img-top\">\n    <img src=\"{{sprites.front_default}}\" alt=\"{{name}}\">\n  </div>\n  <div class=\"card-body\">\n    <h2 class=\"card-title\">Имя: {{name}}</h2>\n    <p class=\"card-text\">Вес: {{weight}}</p>\n    <p class=\"card-text\">Рост: {{height}}</p>\n\n    <p class=\"card-text\"><b>Умения</b></p>\n    <ul class=\"list-group\"></ul>\n    {{#each abilities}}\n      <li class=\"list-group-item\">{{ability.name}}</li>\n    {{/each}}\n    </ul>\n  </div>\n</div>","const BASE_URL = 'https://pokeapi.co/api/v2';\n\nfunction fetchPokemon(pokemonId) {\n  return fetch(`${BASE_URL}/pokemon/${pokemonId}`).then(response =>\n    response.json(),\n  );\n}\n\nexport default { fetchPokemon };\n","export default function getRefs() {\n  return {\n    cardContainer: document.querySelector('.js-card-container'),\n    searchForm: document.querySelector('.js-search-form'),\n  };\n}\n","/*\n * - HTTP-запросы в браузере\n *  - Fetch API\n *  - Владка Network\n *  - HTTP-методы\n *  - Заголовки\n *  - MIME-типы\n *  - Параметры запроса\n * - Документация REST API\n * - Обработка 404 с fetch\n * - Аутентификация\n * - Библиотеки-обёртки\n * - https://pokeapi.co/\n */\n\nimport '../css/style.css';\nimport pokemonCardTpl from '../templates/pokemon-card.hbs';\nimport API from './api-service';\nimport getRefs from './get-refs';\n\nconst refs = getRefs();\n\nrefs.searchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  const form = e.currentTarget;\n  const searchQuery = form.elements.query.value;\n\n  API.fetchPokemon(searchQuery)\n    .then(renderPokemonCard)\n    .catch(onFetchError)\n    .finally(() => form.reset());\n}\n\nfunction renderPokemonCard(pokemon) {\n  const markup = pokemonCardTpl(pokemon);\n  console.log('markup', markup);\n  refs.cardContainer.innerHTML = markup;\n}\n\nfunction onFetchError(error) {\n  alert('Упс, что-то пошло не так и мы не нашли вашего покемона!');\n}\n\n// =========================================\n\nconst url = 'https://newsapi.org/v2/everything?q=cars';\nconst options = {\n  headers: {\n    Authorization: '4330ebfabc654a6992c2aa792f3173a3',\n  },\n};\n\nfetch(url, options)\n  .then(r => r.json())\n  .then(console.log);\n"],"names":["pokemonCardTpl","Handlebars","container","depth0","helpers","partials","data","stack1","lookupProperty","parent","propertyName","helper","alias1","alias2","alias3","alias4","BASE_URL","fetchPokemon","pokemonId","response","API","getRefs","refs","onSearch","form","searchQuery","renderPokemonCard","onFetchError","pokemon","markup","error","url","options","r"],"mappings":"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"}